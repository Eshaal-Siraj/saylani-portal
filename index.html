<!DOCTYPE html>
<html>
<head>
  <title>Saylani Portal Login</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body{
      background: linear-gradient(135deg,#66b032,#0057a8);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      font-family: 'Segoe UI', sans-serif;
    }

    .login-card{
      width:100%;
      max-width:420px;
      padding:35px;
      border-radius:18px;
      backdrop-filter: blur(15px);
      background: rgba(255,255,255,0.95);
      box-shadow:0 10px 30px rgba(0,0,0,0.2);
      animation: fadeIn .6s ease;
    }

    @keyframes fadeIn{
      from{opacity:0; transform:translateY(40px)}
      to{opacity:1; transform:translateY(0)}
    }

    .logo{
      width:150px;
      display:block;
      margin:auto;
    }

    .form-control{
      border-radius:10px;
      padding:12px;
    }

    .btn{
      border-radius:10px;
      padding:10px;
      font-weight:600;
    }

    .btn-primary{
      background:#0057a8;
      border:none;
    }

    .btn-primary:hover{
      background:#004080;
    }

    .btn-success{
      background:#66b032;
      border:none;
    }

    .btn-success:hover{
      background:#4f8a22;
    }

    .radio-group{
      display:flex;
      justify-content:space-between;
      margin-top:15px;
      font-weight:600;
    }

    .password-toggle{
      cursor:pointer;
      font-size:14px;
      color:#0057a8;
      text-align:right;
      margin-top:5px;
    }

    .divider{
      text-align:center;
      margin:15px 0;
      color:#999;
    }
  </style>
</head>

<body>

<div class="login-card">

  <img src="assets/smit-logo.png" class="logo mb-3">

  <h4 class="text-center mb-3 fw-bold">Saylani Portal Login</h4>

  <input id="email" class="form-control mt-3" placeholder="Enter Email">

  <input id="password" type="password" class="form-control mt-2" placeholder="Enter Password">

  <div class="password-toggle" onclick="togglePassword()">Show Password</div>

  <div class="radio-group">
    <label><input type="radio" name="loginType" value="user" checked> User</label>
    <label><input type="radio" name="loginType" value="admin"> Admin</label>
  </div>

  <button id="signupBtn" class="btn btn-primary w-100 mt-4">Create Account</button>

  <div class="divider">OR</div>

  <button id="loginBtn" class="btn btn-success w-100">Login</button>

</div>

<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
<script src="js/firebase.js"></script>

<script>
const ADMIN_EMAIL = "eshaaladmin2007@gmail.com";
const ADMIN_PASSWORD = "eshaal2007";

function togglePassword(){
  const pass = document.getElementById("password");
  pass.type = pass.type === "password" ? "text" : "password";
}

function signupUser(){
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value.trim();
  const loginType = document.querySelector('input[name="loginType"]:checked').value;

  if(!email || !password) return alert("Fill all fields!");

  if(loginType === "admin"){
    alert("Admins cannot signup!");
    return;
  }

  firebase.auth().createUserWithEmailAndPassword(email,password)
  .then(()=> alert("Signup successful!"))
  .catch(err=> alert(err.message));
}

function loginUser(){
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value.trim();
  const loginType = document.querySelector('input[name="loginType"]:checked').value;

  if(!email || !password) return alert("Fill all fields!");

  if(loginType === "admin"){
    if(email===ADMIN_EMAIL && password===ADMIN_PASSWORD){
      alert("Admin Login Successful");
      location.href="admin.html";
    } else alert("Invalid Admin Credentials");
  } else{
    firebase.auth().signInWithEmailAndPassword(email,password)
    .then(()=> location.href="dashboard.html")
    .catch(err=> alert(err.message));
  }
}

document.getElementById("signupBtn").onclick = signupUser;
document.getElementById("loginBtn").onclick = loginUser;
</script>

</body>
</html>
